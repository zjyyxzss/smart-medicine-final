# 🚀 智慧医药系统 (Smart Medicine System) - 高性能架构重构

## 🌟 项目简介

本项目是一个基于 **Spring Boot 3.x** 的医药信息管理与服务平台。我主要负责对原有的核心模块进行**企业级重构与性能调优**，使其具备 **高并发**、**极速响应** 和 **服务治理** 能力。

## 🎯 核心技术栈

| 类别 | 技术项 | 版本 | 核心用途 |
| :--- | :--- | :--- | :--- |
| **基础架构** | Spring Boot | 3.2.x | 基于 **Jakarta EE** 规范的 Web 服务。 |
| **数据访问** | MyBatis Plus / MySQL | 最新 | 数据库持久层操作。 |
| **高并发/缓存** | **Redis / Spring Data Redis** | 7.0+ | 采用redis+lua脚本保证原子性（Day 4）。 |
| **异步解耦** | **RabbitMQ** | 最新 | 异步下单、削峰解耦（Day 11）。 |
| **安全认证** | **Spring Security / JJWT** | 6.x | 无状态认证体系，实现 Token 校验。 |
| **服务治理** | **Sentinel** | 1.8.x | 核心接口的流量控制和熔断降级（Day 12）。 |

## ✨ 核心重构与量化成果 (你的贡献)

### 1. 挂号模块：异步秒杀架构 (最高性能)

* **原痛点**：数据库锁和同步事务导致高并发场景下出现超卖和严重阻塞 。
* **重构方案**：彻底采用 **Redis+lua脚本原子扣减 + RabbitMQ 异步下单** 的分层解耦架构。
* **性能提升**：
    * **极限响应**：用户侧平均响应时间（中位数）从 **540ms+ 压缩至 6ms**，实现了极速抢号。
    * **数据一致性**：通过 Redis `DECR` 原子操作和最终 MySQL SQL 原子更新的双重校验，保证了 0.00% 的超卖错误率。
    * **吞吐量**：QPS 最终达到 **198.6/sec** (性能瓶颈转移至 VMWare 硬件极限)。

### 2. 服务治理与弹性 (Day 12)

* **方案**：引入 **Sentinel**，为核心 `bookingFlowRule` 资源添加 QPS 流控规则。
* **成果**：系统能在流量超过阈值时，自动触发 `handleBlock` 降级方法，优雅地返回“系统繁忙”信息，有效保护了后端服务。

### 3. 安全与架构升级 (Day 8-10)

* **Token 认证**：实现了 `JwtUtil` 和 `JwtAuthenticationFilter`，将项目从有状态的 Session 认证升级为**无状态的 JWT Token 认证**，完全适配前后端分离架构。
* **环境治理**：成功完成了所有依赖到 **Spring Boot 3.x (Jakarta EE)** 的兼容性升级，并修复了复杂的类加载和启动错误。
